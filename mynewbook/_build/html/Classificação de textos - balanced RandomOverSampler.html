
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Classificação de textos com balanceamento “Random Under Sampler” &#8212; Previsor de reconhecimento</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Classificação de textos - balanced RandomOverSampler';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Classificação de textos" href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20an%C3%A1lise.html" />
    <link rel="prev" title="Classificação de textos com balanceamento “Random Under Sampler”" href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20balanced%20RandomUnderSampler.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Previsor_logo.png" class="logo__image only-light" alt="Previsor de reconhecimento - Home"/>
    <script>document.write(`<img src="_static/Previsor_logo.png" class="logo__image only-dark" alt="Previsor de reconhecimento - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Sobre o projeto
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="AnaliseExploratoria.html">Análise exploratória dos dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pr%C3%A9%20processamento.html">Pré processamento dos dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="Regress%C3%A3o%20Log%C3%ADstica.html">Regressão logística</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Classifica%C3%A7%C3%A3o%20de%20textos.html">Classificação de textos</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20balanced%20RandomUnderSampler.html">Classificação de textos com balanceamento “Random Under Sampler”</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Classificação de textos com balanceamento “Random Under Sampler”</a></li>
<li class="toctree-l2"><a class="reference internal" href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20an%C3%A1lise.html">Classificação de textos</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/brunagmoura/PrevisorReconhecimento/blob/main/Classificação de textos - balanced RandomOverSampler.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Classificação de textos - balanced RandomOverSampler.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Classificação de textos com balanceamento “Random Under Sampler”</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bibliotecas">Bibliotecas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#base-de-dados">Base de dados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#balanceamento-das-classes">Balanceamento das classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#over-sampler">Over Sampler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-humanos">Modelo para “Descrição de danos humanos”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-materiais">Modelo para “Descrição de danos materiais”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-ambientais">Modelo para “Descrição de danos ambientais”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparacao-entre-os-modelos-para-danos-humanos-materiais-e-ambientais">Comparação entre os modelos para danos humanos, materiais e ambientais</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metricas-de-classificacao">Métricas de classificação</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matriz-de-confusao">Matriz de confusão</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="classificacao-de-textos-com-balanceamento-random-under-sampler">
<h1>Classificação de textos com balanceamento “Random Under Sampler”<a class="headerlink" href="#classificacao-de-textos-com-balanceamento-random-under-sampler" title="Link to this heading">#</a></h1>
<p>Técnica utilizada para lidar com dados desbalanceados em que o número de exemplos da classe minoritária é duplicado aleatoriamente até que haja um número semelhante de exemplos nas duas classes.</p>
<section id="bibliotecas">
<h2>Bibliotecas<a class="headerlink" href="#bibliotecas" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Bibliotecas</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">SGDClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">f1_score</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">ConfusionMatrixDisplay</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">imblearn.under_sampling</span> <span class="kn">import</span> <span class="n">RandomUnderSampler</span>
<span class="kn">from</span> <span class="nn">imblearn.over_sampling</span> <span class="kn">import</span> <span class="n">RandomOverSampler</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="c1">#Estilizar conteúdo</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">estilo_tabelas</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">max_altura</span><span class="o">=</span><span class="s1">&#39;300px&#39;</span><span class="p">,</span> <span class="n">casas_decimais</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">cor_linhas</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">row</span><span class="o">.</span><span class="n">name</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;background-color: #ffffff&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;background-color: #f9f9f9&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cor_linhas</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Aplica cor alternada às linhas</span>
        <span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="p">{</span><span class="s1">&#39;selector&#39;</span><span class="p">:</span> <span class="s1">&#39;thead th&#39;</span><span class="p">,</span> <span class="s1">&#39;props&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;font-size&#39;</span><span class="p">,</span> <span class="s1">&#39;12px&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;text-align&#39;</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;border-bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;2px solid #007BFF&#39;</span><span class="p">)]},</span>  <span class="c1"># Azul abaixo do nome das colunas</span>
                <span class="p">{</span><span class="s1">&#39;selector&#39;</span><span class="p">:</span> <span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="s1">&#39;props&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;font-size&#39;</span><span class="p">,</span> <span class="s1">&#39;10px&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;text-align&#39;</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;max-height&#39;</span><span class="p">,</span> <span class="s1">&#39;40px&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;white-space&#39;</span><span class="p">,</span> <span class="s1">&#39;nowrap&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;text-overflow&#39;</span><span class="p">,</span> <span class="s1">&#39;ellipsis&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;overflow&#39;</span><span class="p">,</span> <span class="s1">&#39;hidden&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;max-width&#39;</span><span class="p">,</span> <span class="s1">&#39;300px&#39;</span><span class="p">)]},</span>
                <span class="p">{</span><span class="s1">&#39;selector&#39;</span><span class="p">:</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="s1">&#39;props&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;90%&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;margin-left&#39;</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;margin-right&#39;</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;border-collapse&#39;</span><span class="p">,</span> <span class="s1">&#39;collapse&#39;</span><span class="p">)]},</span>
                <span class="p">{</span><span class="s1">&#39;selector&#39;</span><span class="p">:</span> <span class="s1">&#39;td, th&#39;</span><span class="p">,</span> <span class="s1">&#39;props&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;border&#39;</span><span class="p">,</span> <span class="s1">&#39;1px solid #666&#39;</span><span class="p">)]},</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="s1">&#39;border-color&#39;</span><span class="p">:</span> <span class="s1">&#39;darkgray&#39;</span><span class="p">,</span> <span class="s1">&#39;border-style&#39;</span><span class="p">:</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;border-width&#39;</span><span class="p">:</span> <span class="s1">&#39;1px&#39;</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">set_table_attributes</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;style=&quot;height:auto; overflow:auto; max-height:</span><span class="si">{</span><span class="n">max_altura</span><span class="si">}</span><span class="s1">; display:block;&quot;&#39;</span>  
        <span class="p">)</span>
        <span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">precision</span><span class="o">=</span><span class="n">casas_decimais</span>  
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="base-de-dados">
<h2>Base de dados<a class="headerlink" href="#base-de-dados" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Leitura da base de dados</span>

<span class="n">object_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Protocolo_S2iD&#39;</span><span class="p">,</span> <span class="s1">&#39;Nome_Municipio&#39;</span><span class="p">,</span> <span class="s1">&#39;Sigla_UF&#39;</span><span class="p">,</span> <span class="s1">&#39;regiao&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;Setores Censitários&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DH_Descricao&#39;</span><span class="p">,</span> <span class="s1">&#39;DM_Descricao&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;DA_Descricao&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Polui/cont da água&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Polui/cont do ar&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;DA_Polui/cont do solo&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Dimi/exauri hídrico&#39;</span><span class="p">,</span>
                  <span class="s2">&quot;DA_Incêndi parques/APA&#39;s/APP&#39;s&quot;</span><span class="p">,</span> <span class="s1">&#39;PEPL_Descricao&#39;</span><span class="p">,</span> <span class="s1">&#39;PEPR_Descricao&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;Categoria&#39;</span><span class="p">,</span> <span class="s1">&#39;Grupo&#39;</span><span class="p">,</span> <span class="s1">&#39;Subgrupo&#39;</span><span class="p">,</span> <span class="s1">&#39;Tipo&#39;</span><span class="p">,</span> <span class="s1">&#39;Subtipo&#39;</span><span class="p">]</span>

<span class="n">dtype</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">object_columns</span><span class="p">}</span>

<span class="n">df_eventos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/brunagmoura/PrevisorReconhecimento/refs/heads/main/df_eventos_desastres_rec_nrec.csv&quot;</span><span class="p">,</span>
    <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span>
    <span class="n">dtype</span> <span class="o">=</span> <span class="n">dtype</span><span class="p">,</span>
    <span class="n">decimal</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#Selecionar apenas as variáveis textuais</span>
<span class="n">df_eventos</span> <span class="o">=</span> <span class="n">df_eventos</span><span class="p">[[</span><span class="s2">&quot;Status&quot;</span><span class="p">,</span> <span class="s2">&quot;DH_Descricao&quot;</span><span class="p">,</span> <span class="s2">&quot;DM_Descricao&quot;</span><span class="p">,</span> <span class="s2">&quot;DA_Descricao&quot;</span><span class="p">]]</span>

<span class="c1">#Atribuir valor 0 ao status &quot;Reconhecido&quot; e 1 ao status &quot;Não reconhecido&quot;</span>
<span class="n">df_eventos</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_eventos</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1">#Visualizar amostra de dados</span>
<span class="n">estilo_tabelas</span><span class="p">(</span><span class="n">df_eventos</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_59522 thead th {
  font-size: 12px;
  text-align: center;
  border-bottom: 2px solid #007BFF;
}
#T_59522 td {
  font-size: 10px;
  text-align: center;
  max-height: 40px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  max-width: 300px;
}
#T_59522 table {
  width: 90%;
  margin-left: auto;
  margin-right: auto;
  border-collapse: collapse;
}
#T_59522 td {
  border: 1px solid #666;
}
#T_59522  th {
  border: 1px solid #666;
}
#T_59522_row0_col0, #T_59522_row0_col1, #T_59522_row0_col2, #T_59522_row0_col3, #T_59522_row2_col0, #T_59522_row2_col1, #T_59522_row2_col2, #T_59522_row2_col3, #T_59522_row4_col0, #T_59522_row4_col1, #T_59522_row4_col2, #T_59522_row4_col3 {
  background-color: #f9f9f9;
  border-color: darkgray;
  border-style: solid;
  border-width: 1px;
}
#T_59522_row1_col0, #T_59522_row1_col1, #T_59522_row1_col2, #T_59522_row1_col3, #T_59522_row3_col0, #T_59522_row3_col1, #T_59522_row3_col2, #T_59522_row3_col3 {
  background-color: #ffffff;
  border-color: darkgray;
  border-style: solid;
  border-width: 1px;
}
</style>
<table id="T_59522" style="height:auto; overflow:auto; max-height:300px; display:block;">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_59522_level0_col0" class="col_heading level0 col0" >Status</th>
      <th id="T_59522_level0_col1" class="col_heading level0 col1" >DH_Descricao</th>
      <th id="T_59522_level0_col2" class="col_heading level0 col2" >DM_Descricao</th>
      <th id="T_59522_level0_col3" class="col_heading level0 col3" >DA_Descricao</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_59522_level0_row0" class="row_heading level0 row0" >26253</th>
      <td id="T_59522_row0_col0" class="data row0 col0" >0</td>
      <td id="T_59522_row0_col1" class="data row0 col1" >A seca tem causado interrupções no fornecimento de água potável para a população dos núcleos urbanos e limitações severas no consumo de água nos domicílios situados na zona rural que precisam aguardar um tempo elevado para que a água acumule em cisterna em volume que seja possível bombear. _x000D_
_x000D_
</td>
      <td id="T_59522_row0_col2" class="data row0 col2" >nan</td>
      <td id="T_59522_row0_col3" class="data row0 col3" >Redução dos cursos de água e pastagem provocado pela seca.</td>
    </tr>
    <tr>
      <th id="T_59522_level0_row1" class="row_heading level0 row1" >26254</th>
      <td id="T_59522_row1_col0" class="data row1 col0" >0</td>
      <td id="T_59522_row1_col1" class="data row1 col1" >Conforme laudo da assistência social, o desastre Tempestade Local/Convectiva - Vendaval atingiu o município em todo o seu território urbano e rural,  afetando diretamente 1.180 famílias, aproximadamente 4.716 pessoas, desse total, aproximadamente 30 pessoas ficaram desalojadas. Ainda dentro desse número de famílias 30 famílias foram diretamente afetadas, sendo aproximadamente 120 pessoas encontram-se em vulnerabilidade social. Todos os afetados tiveram danos em suas residências, em telhados, em muitas delas perdendo móveis, roupas e alimentos. Estradas no interior que ficaram sem condições seguras de trafegabilidade e/ou bloqueadas, conforme constatado pela engenharia. A tempestade que atingiu o município afetou as famílias também com a falta de energia elétrica e consequentemente de água, sendo restabelecida em todo o território do município somente no dia 02 de Janeiro.</td>
      <td id="T_59522_row1_col2" class="data row1 col2" >Conforme laudo da engenharia o evento vendaval causou danos em aproximadamente 30 unidades habitacionais, 01 instalação pública de saúde, uma de ensino e ainda nas estradas rurais do município.</td>
      <td id="T_59522_row1_col3" class="data row1 col3" >Os danos ambientais recorrem da grande quantidade de lixo produzido pela quebra das telhas de fibrocimento e queda de árvores.</td>
    </tr>
    <tr>
      <th id="T_59522_level0_row2" class="row_heading level0 row2" >26255</th>
      <td id="T_59522_row2_col0" class="data row2 col0" >0</td>
      <td id="T_59522_row2_col1" class="data row2 col1" >Conforme laudo da assistência social, 20 famílias, 80 pessoas ficaram desalojadas devido destelhamento das suas residências, sendo que três moradias teve todo telhado arrancado, com tesouras e forro. No total foram 276 unidades habitacionais danificadas conforme laudo da engenharia. Ainda conforme laudo da Emater em anexo, houve prejuízos na pecuária que chegam ao valor de R$ 132.000,00. </td>
      <td id="T_59522_row2_col2" class="data row2 col2" >Conforme laudo da engenharia foram danificadas 276 unidades habitacionais, 07 instalações públicas de ensino sofreram destelhamento devidos aos fortes ventos.</td>
      <td id="T_59522_row2_col3" class="data row2 col3" >Os danos ambientais recorrem da grande quantidade de lixo produzido pelas quebra das telhas de fibrocimento e quedas de inúmeras árvores.</td>
    </tr>
    <tr>
      <th id="T_59522_level0_row3" class="row_heading level0 row3" >26256</th>
      <td id="T_59522_row3_col0" class="data row3 col0" >0</td>
      <td id="T_59522_row3_col1" class="data row3 col1" >As pessoas atingidas, tiveram os telhados de suas residências danificados, moveis molhados, sendo necessário cobrir com lonas, totalizando num total de 300 pessoas atingidas diretamente, de acordo com o laudo da assistência social.</td>
      <td id="T_59522_row3_col2" class="data row3 col2" >De acordo com o laudo da engenharia civil, houve um total de 75 unidades habitacionais atingidas, totalizando um dano estimado de R$120.583,50. Além disso, foi registrado danos causados em prédios públicos, como postos de saúde, escolas, secretarias, totalizando um valor estimado de R$106.834,65.</td>
      <td id="T_59522_row3_col3" class="data row3 col3" >nan</td>
    </tr>
    <tr>
      <th id="T_59522_level0_row4" class="row_heading level0 row4" >26257</th>
      <td id="T_59522_row4_col0" class="data row4 col0" >0</td>
      <td id="T_59522_row4_col1" class="data row4 col1" >Toda a população do Município foi afetada direta ou indiretamente pelo evento adverso do dia 29 de dezembro de 2023, devido aos fortes ventos em todo teritório do Município de Ubiretama, que causaram vários destelhamentos em residências e prédios públicos, queda de galhos e árvores sobre as vias municipais, assim dificultando a locomoção das pessoas, bem como interrupçao de fornecimento de energia elétrica, sendo que todo município de Ubiretama está sem energia elétrica até o momento, o que pode perdurar por vários dias inclusive. </td>
      <td id="T_59522_row4_col2" class="data row4 col2" >Várias residências afetadas, causando um valor aproximado de R$ 10.000,00(dez mil reais), e a quadra de futebol society, que foi teve a cobertura totalmente destruída, em razão dos fortes ventos, causando um prejuízo aproximado de R$ 250.000,00(duzentos e cinquenta mil reais), de acordo com o Relatório do Engenheiro Civil. </td>
      <td id="T_59522_row4_col3" class="data row4 col3" >nan</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="balanceamento-das-classes">
<h2>Balanceamento das classes<a class="headerlink" href="#balanceamento-das-classes" title="Link to this heading">#</a></h2>
<section id="over-sampler">
<h3>Over Sampler<a class="headerlink" href="#over-sampler" title="Link to this heading">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df_eventos</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;DH_Descricao&#39;</span><span class="p">,</span> <span class="s1">&#39;DM_Descricao&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Descricao&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_eventos</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span>

<span class="c1"># Instanciar RandomOverSampler</span>
<span class="n">over</span> <span class="o">=</span> <span class="n">RandomOverSampler</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Treinar e fazer RandomOverSampler nos dados</span>
<span class="n">X_balanceadoover</span><span class="p">,</span> <span class="n">y_balanceadoover</span> <span class="o">=</span> <span class="n">over</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># Mostrar as dimensões de X e y</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensões de X_resampled = &#39;</span><span class="p">,</span> <span class="n">X_balanceadoover</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensões de y_resampled = &#39;</span><span class="p">,</span> <span class="n">y_balanceadoover</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">df_eventos_oversampler</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_balanceadoover</span><span class="p">)</span>
<span class="n">df_eventos_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">y_balanceadoover</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dimensões de X_resampled =  (47742, 3)
Dimensões de y_resampled =  (47742,)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_DH_Descricao_oversampler</span> <span class="o">=</span> <span class="n">df_eventos_oversampler</span><span class="p">[[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DH_Descricao&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DH_Descricao&#39;</span><span class="p">])</span>

<span class="n">df_DM_Descricao_oversampler</span> <span class="o">=</span> <span class="n">df_eventos_oversampler</span><span class="p">[[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DM_Descricao&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DM_Descricao&#39;</span><span class="p">])</span>

<span class="n">df_DA_Descricao_oversampler</span> <span class="o">=</span> <span class="n">df_eventos_oversampler</span><span class="p">[[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Descricao&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">,</span> <span class="s1">&#39;DA_Descricao&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dimensões das bases de dados (Balanceado com over sampler): </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Descrição dos danos humanos:&#39;</span><span class="p">,</span> <span class="n">df_DH_Descricao_oversampler</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Descrição dos danos materiais:&#39;</span><span class="p">,</span><span class="n">df_DM_Descricao_oversampler</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Descrição dos danos ambientais:&#39;</span><span class="p">,</span><span class="n">df_DA_Descricao_oversampler</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> Novo balanceamento das bases de dados (Balanceado com over sampler): </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Balanceamento em &quot;danos humanos:&#39;</span><span class="p">,</span> <span class="n">df_DH_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Balanceamento em &quot;danos materiais:&#39;</span><span class="p">,</span> <span class="n">df_DM_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Balanceamento em &quot;danos ambientais:&#39;</span><span class="p">,</span> <span class="n">df_DA_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dimensões das bases de dados (Balanceado com over sampler): 

Descrição dos danos humanos: (36691, 2)
Descrição dos danos materiais: (27972, 2)
Descrição dos danos ambientais: (28394, 2)

 Novo balanceamento das bases de dados (Balanceado com over sampler): 

Balanceamento em &quot;danos humanos: Status
1    18927
0    17764
Name: count, dtype: int64
Balanceamento em &quot;danos materiais: Status
1    15791
0    12181
Name: count, dtype: int64
Balanceamento em &quot;danos ambientais: Status
0    14719
1    13675
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="modelo-para-descricao-de-danos-humanos">
<h2>Modelo para “Descrição de danos humanos”<a class="headerlink" href="#modelo-para-descricao-de-danos-humanos" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Treino e teste</span>
<span class="n">X_train_humanos_over</span><span class="p">,</span> <span class="n">X_test_humanos_over</span><span class="p">,</span> <span class="n">y_train_humanos_over</span><span class="p">,</span> <span class="n">y_test_humanos_over</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">df_DH_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;DH_Descricao&#39;</span><span class="p">],</span> <span class="n">df_DH_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">],</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Instanciamento do transform CountVectorizer</span>
<span class="n">tfidf_vectorizer_humanos_over</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>

<span class="c1"># Tokenização e criação do vocabulário</span>

<span class="n">tfidf_vectorizer_humanos_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_humanos_over</span><span class="p">)</span>

<span class="c1">#Treinamento e classificador</span>

<span class="n">pipeline_humanos_over</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))),</span>
    <span class="p">(</span><span class="s1">&#39;clf&#39;</span><span class="p">,</span> <span class="n">SGDClassifier</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="s1">&#39;log_loss&#39;</span><span class="p">)),</span>
<span class="p">])</span>

<span class="n">classificador_humanos_over</span> <span class="o">=</span> <span class="n">pipeline_humanos_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_humanos_over</span><span class="p">,</span> <span class="n">y_train_humanos_over</span><span class="p">)</span>

<span class="n">predicted_humanos_over</span> <span class="o">=</span> <span class="n">classificador_humanos_over</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_humanos_over</span><span class="p">)</span>

<span class="n">classification_report_humanos_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_humanos_over</span><span class="p">,</span> <span class="n">predicted_humanos_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Classification report para danos humanos (balanceamento RandomOverSampler): </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report_humanos_over</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Classification report para danos humanos (balanceamento RandomOverSampler): 

                 precision    recall  f1-score   support

    Reconhecido   0.905642  0.789429  0.843552      3538
Não reconhecido   0.824912  0.923441  0.871400      3801

       accuracy                       0.858836      7339
      macro avg   0.865277  0.856435  0.857476      7339
   weighted avg   0.863830  0.858836  0.857975      7339
</pre></div>
</div>
</div>
</div>
</section>
<section id="modelo-para-descricao-de-danos-materiais">
<h2>Modelo para “Descrição de danos materiais”<a class="headerlink" href="#modelo-para-descricao-de-danos-materiais" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Treino e teste</span>
<span class="n">X_train_materiais_over</span><span class="p">,</span> <span class="n">X_test_materiais_over</span><span class="p">,</span> <span class="n">y_train_materiais_over</span><span class="p">,</span> <span class="n">y_test_materiais_over</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">df_DM_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;DM_Descricao&#39;</span><span class="p">],</span> <span class="n">df_DM_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">],</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Instanciamento do transform CountVectorizer</span>
<span class="n">tfidf_vectorizer_materiais_over</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>

<span class="c1"># Tokenização e criação do vocabulário</span>

<span class="n">tfidf_vectorizer_materiais_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_materiais_over</span><span class="p">)</span>

<span class="c1">#Treinamento e classificador</span>

<span class="n">pipeline_materiais_over</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))),</span>
    <span class="p">(</span><span class="s1">&#39;clf&#39;</span><span class="p">,</span> <span class="n">SGDClassifier</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="s1">&#39;log_loss&#39;</span><span class="p">)),</span>
<span class="p">])</span>

<span class="n">classificador_materiais_over</span> <span class="o">=</span> <span class="n">pipeline_materiais_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_materiais_over</span><span class="p">,</span> <span class="n">y_train_materiais_over</span><span class="p">)</span>

<span class="n">predicted_materiais_over</span> <span class="o">=</span> <span class="n">classificador_materiais_over</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_materiais_over</span><span class="p">)</span>

<span class="n">classification_report_materiais_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_materiais_over</span><span class="p">,</span> <span class="n">predicted_materiais_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Classification report para danos materiais (balanceamento RandomOverSampler: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report_materiais_over</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Classification report para danos materiais (balanceamento RandomOverSampler: 

                 precision    recall  f1-score   support

    Reconhecido   0.863789  0.716388  0.783214      2514
Não reconhecido   0.796866  0.907822  0.848733      3081

       accuracy                       0.821805      5595
      macro avg   0.830328  0.812105  0.815973      5595
   weighted avg   0.826937  0.821805  0.819293      5595
</pre></div>
</div>
</div>
</div>
</section>
<section id="modelo-para-descricao-de-danos-ambientais">
<h2>Modelo para “Descrição de danos ambientais”<a class="headerlink" href="#modelo-para-descricao-de-danos-ambientais" title="Link to this heading">#</a></h2>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Treino e teste</span>
<span class="n">X_train_ambientais_over</span><span class="p">,</span> <span class="n">X_test_ambientais_over</span><span class="p">,</span> <span class="n">y_train_ambientais_over</span><span class="p">,</span> <span class="n">y_test_ambientais_over</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">df_DA_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;DA_Descricao&#39;</span><span class="p">],</span> <span class="n">df_DA_Descricao_oversampler</span><span class="p">[</span><span class="s1">&#39;Status&#39;</span><span class="p">],</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Instanciamento do transform CountVectorizer</span>
<span class="n">tfidf_vectorizer_ambientais_over</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>

<span class="c1"># Tokenização e criação do vocabulário</span>

<span class="n">tfidf_vectorizer_ambientais_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_ambientais_over</span><span class="p">)</span>

<span class="c1">#Treinamento e classificador</span>

<span class="n">pipeline_ambientais_over</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;tfidf&#39;</span><span class="p">,</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))),</span>
    <span class="p">(</span><span class="s1">&#39;clf&#39;</span><span class="p">,</span> <span class="n">SGDClassifier</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="s1">&#39;log_loss&#39;</span><span class="p">)),</span>
<span class="p">])</span>

<span class="n">classificador_ambientais_over</span> <span class="o">=</span> <span class="n">pipeline_ambientais_over</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_ambientais_over</span><span class="p">,</span> <span class="n">y_train_ambientais_over</span><span class="p">)</span>

<span class="n">predicted_ambientais_over</span> <span class="o">=</span> <span class="n">classificador_ambientais_over</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_ambientais_over</span><span class="p">)</span>

<span class="n">classification_report_ambientais_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_materiais_over</span><span class="p">,</span> <span class="n">predicted_materiais_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Classification report para danos ambientais (balanceamento RandomOverSampler: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report_ambientais_over</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Classification report para danos ambientais (balanceamento RandomOverSampler: 

                 precision    recall  f1-score   support

    Reconhecido   0.863789  0.716388  0.783214      2514
Não reconhecido   0.796866  0.907822  0.848733      3081

       accuracy                       0.821805      5595
      macro avg   0.830328  0.812105  0.815973      5595
   weighted avg   0.826937  0.821805  0.819293      5595
</pre></div>
</div>
</div>
</div>
</section>
<section id="comparacao-entre-os-modelos-para-danos-humanos-materiais-e-ambientais">
<h2>Comparação entre os modelos para danos humanos, materiais e ambientais<a class="headerlink" href="#comparacao-entre-os-modelos-para-danos-humanos-materiais-e-ambientais" title="Link to this heading">#</a></h2>
<section id="metricas-de-classificacao">
<h3>Métricas de classificação<a class="headerlink" href="#metricas-de-classificacao" title="Link to this heading">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Classification report em dicionário</span>
<span class="n">classification_report_ambiental_dict_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_ambientais_over</span><span class="p">,</span> <span class="n">predicted_ambientais_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">],</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">classification_report_materiais_dict_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_materiais_over</span><span class="p">,</span> <span class="n">predicted_materiais_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">],</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">classification_report_humanos_dict_over</span> <span class="o">=</span> <span class="n">metrics</span><span class="o">.</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test_humanos_over</span><span class="p">,</span> <span class="n">predicted_humanos_over</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">],</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># DataFrame</span>
<span class="n">df_ambiental_over</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">classification_report_ambiental_dict_over</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="n">df_materiais_over</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">classification_report_materiais_dict_over</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="n">df_humanos_over</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">classification_report_humanos_dict_over</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

<span class="n">df_ambiental_over</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">_ambientais&quot;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_ambiental_over</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">df_materiais_over</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">_materiais&quot;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_materiais_over</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">df_humanos_over</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">_humanos&quot;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_humanos_over</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="n">df_comparativo_danos_over</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_ambiental_over</span><span class="p">,</span> <span class="n">df_materiais_over</span><span class="p">,</span> <span class="n">df_humanos_over</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df_comparativo_danos_over</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>precision_ambientais</th>
      <th>recall_ambientais</th>
      <th>f1-score_ambientais</th>
      <th>support_ambientais</th>
      <th>precision_materiais</th>
      <th>recall_materiais</th>
      <th>f1-score_materiais</th>
      <th>support_materiais</th>
      <th>precision_humanos</th>
      <th>recall_humanos</th>
      <th>f1-score_humanos</th>
      <th>support_humanos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Reconhecido</th>
      <td>0.882394</td>
      <td>0.839974</td>
      <td>0.860661</td>
      <td>3037.000000</td>
      <td>0.863789</td>
      <td>0.716388</td>
      <td>0.783214</td>
      <td>2514.000000</td>
      <td>0.905642</td>
      <td>0.789429</td>
      <td>0.843552</td>
      <td>3538.000000</td>
    </tr>
    <tr>
      <th>Não reconhecido</th>
      <td>0.825681</td>
      <td>0.871310</td>
      <td>0.847882</td>
      <td>2642.000000</td>
      <td>0.796866</td>
      <td>0.907822</td>
      <td>0.848733</td>
      <td>3081.000000</td>
      <td>0.824912</td>
      <td>0.923441</td>
      <td>0.871400</td>
      <td>3801.000000</td>
    </tr>
    <tr>
      <th>accuracy</th>
      <td>0.854552</td>
      <td>0.854552</td>
      <td>0.854552</td>
      <td>0.854552</td>
      <td>0.821805</td>
      <td>0.821805</td>
      <td>0.821805</td>
      <td>0.821805</td>
      <td>0.858836</td>
      <td>0.858836</td>
      <td>0.858836</td>
      <td>0.858836</td>
    </tr>
    <tr>
      <th>macro avg</th>
      <td>0.854038</td>
      <td>0.855642</td>
      <td>0.854272</td>
      <td>5679.000000</td>
      <td>0.830328</td>
      <td>0.812105</td>
      <td>0.815973</td>
      <td>5595.000000</td>
      <td>0.865277</td>
      <td>0.856435</td>
      <td>0.857476</td>
      <td>7339.000000</td>
    </tr>
    <tr>
      <th>weighted avg</th>
      <td>0.856010</td>
      <td>0.854552</td>
      <td>0.854716</td>
      <td>5679.000000</td>
      <td>0.826937</td>
      <td>0.821805</td>
      <td>0.819293</td>
      <td>5595.000000</td>
      <td>0.863830</td>
      <td>0.858836</td>
      <td>0.857975</td>
      <td>7339.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="matriz-de-confusao">
<h3>Matriz de confusão<a class="headerlink" href="#matriz-de-confusao" title="Link to this heading">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurações</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Blues</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Reconhecido&#39;</span><span class="p">,</span> <span class="s1">&#39;Não reconhecido&#39;</span><span class="p">]</span>

<span class="c1"># Subplots</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>  

<span class="c1"># Matriz de confusão para &#39;classificador_humanos&#39;</span>
<span class="n">ConfusionMatrixDisplay</span><span class="o">.</span><span class="n">from_estimator</span><span class="p">(</span><span class="n">classificador_humanos_over</span><span class="p">,</span> <span class="n">X_test_humanos_over</span><span class="p">,</span> <span class="n">y_test_humanos_over</span><span class="p">,</span> 
                                      <span class="n">values_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">display_labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>  <span class="c1"># Especifica o subplot 1</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Danos Humanos&#39;</span><span class="p">)</span>

<span class="c1"># Matriz de confusão para &#39;classificador_materiais&#39;</span>
<span class="n">ConfusionMatrixDisplay</span><span class="o">.</span><span class="n">from_estimator</span><span class="p">(</span><span class="n">classificador_materiais_over</span><span class="p">,</span> <span class="n">X_test_materiais_over</span><span class="p">,</span> <span class="n">y_test_materiais_over</span><span class="p">,</span> 
                                      <span class="n">values_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">display_labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>  <span class="c1"># Especifica o subplot 2</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Danos Materiais&#39;</span><span class="p">)</span>

<span class="c1"># Matriz de confusão para &#39;classificador_ambiental&#39;</span>
<span class="n">ConfusionMatrixDisplay</span><span class="o">.</span><span class="n">from_estimator</span><span class="p">(</span><span class="n">classificador_ambientais_over</span><span class="p">,</span> <span class="n">X_test_ambientais_over</span><span class="p">,</span> <span class="n">y_test_ambientais_over</span><span class="p">,</span> 
                                      <span class="n">values_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">display_labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>  <span class="c1"># Especifica o subplot 3</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Danos Ambientais&#39;</span><span class="p">)</span>

<span class="c1"># Exibir o gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>  <span class="c1"># Ajusta os espaçamentos entre os gráficos para evitar sobreposição</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/c05466ee32acb70a4873ed88156368e51f301651225a8a04d808eabdeecd7660.png" src="_images/c05466ee32acb70a4873ed88156368e51f301651225a8a04d808eabdeecd7660.png" />
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20balanced%20RandomUnderSampler.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Classificação de textos com balanceamento “Random Under Sampler”</p>
      </div>
    </a>
    <a class="right-next"
       href="Classifica%C3%A7%C3%A3o%20de%20textos%20-%20an%C3%A1lise.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Classificação de textos</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bibliotecas">Bibliotecas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#base-de-dados">Base de dados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#balanceamento-das-classes">Balanceamento das classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#over-sampler">Over Sampler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-humanos">Modelo para “Descrição de danos humanos”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-materiais">Modelo para “Descrição de danos materiais”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-para-descricao-de-danos-ambientais">Modelo para “Descrição de danos ambientais”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparacao-entre-os-modelos-para-danos-humanos-materiais-e-ambientais">Comparação entre os modelos para danos humanos, materiais e ambientais</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metricas-de-classificacao">Métricas de classificação</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matriz-de-confusao">Matriz de confusão</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>